<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Expression Flags" href="flags.html" /><link rel="prev" title="Getting Started" href="getting_started.html" />

    <meta name="generator" content="sphinx-3.5.1, furo 2021.02.28.beta28"/>
        <title>Expressions - Peppa PEG 1.6.0 documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=be5985a4059b5c2cd56ed0804790452beca62674">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Peppa PEG 1.6.0 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Peppa PEG 1.6.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="flags.html">Expression Flags</a></li>
<li class="toctree-l1"><a class="reference internal" href="caveats.html">Caveats</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="expressions">
<h1>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¬∂</a></h1>
<div class="section" id="literal">
<h2>Literal<a class="headerlink" href="#literal" title="Permalink to this headline">¬∂</a></h2>
<p>Literal <strong>matches an exact string</strong>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello world"</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
</pre></div>
</div>
<p>Literal can be case insensitive for ASCII characters, if the option sensitive is false.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"HELLO WORLD"</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
</pre></div>
</div>
<p>Literal can be in UTF-8 format.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"‰Ω†Â•Ω, ‰∏ñÁïå"</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
</pre></div>
</div>
<p>Literal can include emoji characters.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Peppa üê∑"</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
</pre></div>
</div>
<p>Literal cannot be an empty string.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// WRONG!</span>
<span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_Literal" title="P4_Literal"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_Literal</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateLiteral" title="P4_CreateLiteral"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateLiteral()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddLiteral" title="P4_AddLiteral"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddLiteral()</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="range">
<h2>Range<a class="headerlink" href="#range" title="Permalink to this headline">¬∂</a></h2>
<p>Range <strong>matches a single character in range</strong>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateRange</span><span class="p">(</span><span class="sc">'0'</span><span class="p">,</span> <span class="sc">'9'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>The lower and upper character of range can be ASCII characters or UTF-8 runes.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateRange</span><span class="p">(</span><span class="mh">0x4E00</span><span class="p">,</span> <span class="mh">0x9FFF</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>Range can be used to match anything (0, or ‚Äò0‚Äô, or EOF is used for terminating a string in C):</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mh">0x10ffff</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>The stride parameter allows larger steps when iterating characters in range.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Only match 1, 3, 5, 7, 9.</span>
<span class="n">P4_Expression</span><span class="o">*</span> <span class="n">odd</span> <span class="o">=</span> <span class="n">P4_CreateRange</span><span class="p">(</span><span class="sc">'1'</span><span class="p">,</span> <span class="sc">'9'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<p>The value of lower must be less than the upper.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// WRONG!</span>
<span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateRange</span><span class="p">(</span><span class="sc">'z'</span><span class="p">,</span> <span class="sc">'a'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_Range" title="P4_Range"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_Range</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateRange" title="P4_CreateRange"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateRange()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddRange" title="P4_AddRange"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddRange()</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="sequence">
<h2>Sequence<a class="headerlink" href="#sequence" title="Permalink to this headline">¬∂</a></h2>
<p>Sequence <strong>matches a sequence of sub-expressions in order</strong>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateSequenceWithMembers</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">","</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"World"</span><span class="p">,</span> <span class="nb">false</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>When parsing, the first sequence member is attempted. If succeeds, the second is attempted, so on and on.
If any one of the attempts fails, the match fails.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Hello,WORLD
_____ Literal "Hello", success!
     _ Literal ",", success!
      _____ Insensitive Literal "World", success!
___________ Sequence: success!

Hello,UNIVERSE
_____ Literal "Hello", success!
     _ Literal ",", success!
      _____ Insensitive Literal "World", failure!
Sequence: failure!
</pre></div>
</div>
<p>The members can be set after the Sequence is created:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateSequence</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">expr</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">goto</span> <span class="n">oom</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="n">P4_SetMember</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">))</span> <span class="o">!=</span> <span class="n">P4_Ok</span><span class="p">)</span> <span class="k">goto</span> <span class="n">oom</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">P4_SetMember</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">","</span><span class="p">,</span> <span class="nb">true</span><span class="p">))</span> <span class="o">!=</span> <span class="n">P4_Ok</span><span class="p">)</span> <span class="k">goto</span> <span class="n">oom</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">P4_SetMember</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"World"</span><span class="p">,</span> <span class="nb">false</span><span class="p">))</span> <span class="o">!=</span> <span class="n">P4_Ok</span><span class="p">)</span> <span class="k">goto</span> <span class="n">oom</span><span class="p">;</span>

<span class="nl">oom</span><span class="p">:</span> <span class="n">P4_DeleteExpression</span><span class="p">(</span><span class="n">expr</span><span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_Sequence" title="P4_Sequence"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_Sequence</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateSequence" title="P4_CreateSequence"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateSequence()</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateSequenceWithMembers" title="P4_CreateSequenceWithMembers"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateSequenceWithMembers()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddSequence" title="P4_AddSequence"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddSequence()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddSequenceWithMembers" title="P4_AddSequenceWithMembers"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddSequenceWithMembers()</span></code></a>, <a class="reference internal" href="references.html#c.P4_SetMember" title="P4_SetMember"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_SetMember()</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="backreference">
<h2>BackReference<a class="headerlink" href="#backreference" title="Permalink to this headline">¬∂</a></h2>
<p>BackReference <strong>matches an exact string previously matched in a Sequence</strong>. BackReference can and only can be used as a Sequence member. For example, the below snippet matches ‚Äúa:a‚Äù, but not ‚Äúa:A‚Äù or ‚Äúa:b‚Äù.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateSequenceWithMembers</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">P4_CreateRange</span><span class="p">(</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'z'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">":"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateBackReference</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The BackReference can be case insensitive, regardless whether the original match was case sensitive. For example, the below snippet matches ‚Äúa:a‚Äù and ‚Äúa:A‚Äù.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateSequenceWithMembers</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">P4_CreateRange</span><span class="p">(</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'z'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">":"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateBackReference</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">false</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The index value of a BackReference must be less than the total number of members in a Sequence.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// WRONG!</span>
<span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateSequenceWithMembers</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">":"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateBackReference</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The index value of a BackReference must not be the index of itself.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// WRONG!</span>
<span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateSequenceWithMembers</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">":"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateBackReference</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_BackReference" title="P4_BackReference"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_BackReference</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateBackReference" title="P4_CreateBackReference"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateBackReference()</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="choice">
<h2>Choice<a class="headerlink" href="#choice" title="Permalink to this headline">¬∂</a></h2>
<p>Choice <strong>matches one of the sub-expression.</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateChoiceWithMembers</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Kia Ora"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"‰Ω†Â•Ω"</span><span class="p">,</span> <span class="nb">false</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>When parsing, the first sequence member is attempted. If fails, the second is attempted, so on and on.
If any one of the attempts succeeds, the match succeeds. If all attempts fail, the match fails.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‰Ω†Â•Ω
Literal "Hello", failure!
Literal "Kia Ora", failure|
____ Literal "‰Ω†Â•Ω", success!
____ Choice: success!

Ciao
Literal "Hello", failure!
Literal "Kia Ora", failure|
Literal "‰Ω†Â•Ω", failure!
Choice: failure!
</pre></div>
</div>
<p>Similar to Sequence, the members can be set after the Choice is created.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateChoice</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">expr</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">goto</span> <span class="n">oom</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="n">P4_SetMember</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">))</span> <span class="o">!=</span> <span class="n">P4_Ok</span><span class="p">)</span> <span class="k">goto</span> <span class="n">oom</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">P4_SetMember</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Kia Ora"</span><span class="p">,</span> <span class="nb">true</span><span class="p">))</span> <span class="o">!=</span> <span class="n">P4_Ok</span><span class="p">)</span> <span class="k">goto</span> <span class="n">oom</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">P4_SetMember</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"‰Ω†Â•Ω"</span><span class="p">,</span> <span class="nb">true</span><span class="p">))</span> <span class="o">!=</span> <span class="n">P4_Ok</span><span class="p">)</span> <span class="k">goto</span> <span class="n">oom</span><span class="p">;</span>

<span class="nl">oom</span><span class="p">:</span> <span class="n">P4_DeleteExpression</span><span class="p">(</span><span class="n">expr</span><span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_Choice" title="P4_Choice"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_Choice</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateChoice" title="P4_CreateChoice"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateChoice()</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateChoiceWithMembers" title="P4_CreateChoiceWithMembers"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateChoiceWithMembers()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddChoice" title="P4_AddChoice"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddChoice()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddChoiceWithMembers" title="P4_AddChoiceWithMembers"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddChoiceWithMembers()</span></code></a>, <a class="reference internal" href="references.html#c.P4_SetMember" title="P4_SetMember"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_SetMember()</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¬∂</a></h2>
<p>Reference <strong>matches a string based on the referenced grammar rule</strong>.</p>
<p>A grammar includes a set of grammar rules.  Each grammar rule is built from <a class="reference internal" href="references.html#c.P4_Expression" title="P4_Expression"><code class="xref c c-struct docutils literal notranslate"><span class="pre">P4_Expression</span></code></a> and is associated with an id.  A grammar rule can then be referenced in other grammar rules.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span> <span class="n">Entry</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="p">...</span> <span class="p">};</span>

<span class="n">P4_AddLiteral</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">"Hello,WORLD"</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>

<span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateReference</span><span class="p">(</span><span class="n">Text</span><span class="p">);</span>
</pre></div>
</div>
<p>The referenced grammar rule must exist before calling <a class="reference internal" href="references.html#c.P4_Parse" title="P4_Parse"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_Parse()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_Reference" title="P4_Reference"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_Reference</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateReference" title="P4_CreateReference"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateReference()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddReference" title="P4_AddReference"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddReference()</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="positive">
<h2>Positive<a class="headerlink" href="#positive" title="Permalink to this headline">¬∂</a></h2>
<p>Positive <strong>tests if the sub-expression matches</strong>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreatePositive</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">));</span>
</pre></div>
</div>
<p>Positive attempts to match the sub-expression. If succeeds, the test passes. Positive does not ‚Äúconsume‚Äù any text.</p>
<p>Positive can be useful in limiting the possibilities of the latter member in a Sequence. In this example, the Sequence expression must start with ‚ÄúHello‚Äù, e.g. ‚ÄúHello World‚Äù, ‚ÄúHello WORLD‚Äù, ‚ÄúHello world‚Äù, etc, will match but ‚ÄúHELLO WORLD‚Äù will not match.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateSequenceWithMembers</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">P4_CreatePositive</span><span class="p">(</span>
        <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span>
    <span class="p">);</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">,</span> <span class="nb">false</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_Positive" title="P4_Positive"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_Positive</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreatePositive" title="P4_CreatePositive"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreatePositive()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddPositive" title="P4_AddPositive"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddPositive()</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="negative">
<h2>Negative<a class="headerlink" href="#negative" title="Permalink to this headline">¬∂</a></h2>
<p>Negative <strong>tests if the sub-expression does not match</strong>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateNegative</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">));</span>
</pre></div>
</div>
<p>Negative expects the sub-expression doesn‚Äôt match. If fails, the test passes. Negative does not ‚Äúconsume‚Äù any text.</p>
<p>Negative can be useful in limiting the possiblities of the latter member in a Sequence. In this example, the Sequence expression must not start with ‚ÄúHello‚Äù, e.g. ‚ÄúHELLO World‚Äù, ‚Äúhello WORLD‚Äù, ‚Äúhello world‚Äù, etc, will match but ‚ÄúHello World‚Äù will not match.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateSequenceWithMembers</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">P4_CreateNegative</span><span class="p">(</span>
        <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span>
    <span class="p">);</span>
    <span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">,</span> <span class="nb">false</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_Negative" title="P4_Negative"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_Negative</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateNegative" title="P4_CreateNegative"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateNegative()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddNegative" title="P4_AddNegative"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddNegative()</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="repeat">
<h2>Repeat<a class="headerlink" href="#repeat" title="Permalink to this headline">¬∂</a></h2>
<p>Repeat <strong>matches the sub-expression several times</strong>.</p>
<p>ZeroOrOnce, ZeroOrMore, OnceOrMore consume zero or one , zero or more, or one or more consecutive repetitions of their sub-expression.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateZeroOrOnce</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateZeroOrMore</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateOnceOrMore</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">));</span>
</pre></div>
</div>
<p>ZeroOrOnce and ZeroOrMore always succeeds because it allows matching zero times.</p>
<p>The repetition can also be set with designated min or max times.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateRepeatMin</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateRepeatMax</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateRepeatExact</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">P4_Expression</span><span class="o">*</span> <span class="n">expr</span> <span class="o">=</span> <span class="n">P4_CreateRepeatMinMax</span><span class="p">(</span><span class="n">P4_CreateLiteral</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All Repeat expressions can be rewritten with P4_CreateRepeatMinMax.</p>
<ul class="simple">
<li><p>ZeroOrOnce: P4_CreateRepeatMinMax(expr, 0, 1);</p></li>
<li><p>ZeroOrMore: P4_CreateRepeatMinMax(expr, 0, SIZE_MAX);</p></li>
<li><p>OnceOrMore: P4_CreateRepeatMinMax(expr, 1, SIZE_MAX);</p></li>
<li><p>RepeatMin: P4_CreateRepeatMinMax(expr, min, SIZE_MAX);</p></li>
<li><p>RepeatMax: P4_CreateRepeatMinMax(expr, 0, max);</p></li>
<li><p>RepeatExact: P4_CreateRepeatMinMax(expr, n, n);</p></li>
</ul>
<p>However, using the derived names can improve the readability of the code.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="references.html#c.P4_ExpressionKind.P4_Repeat" title="P4_Repeat"><code class="xref c c-enum docutils literal notranslate"><span class="pre">P4_Repeat</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateZeroOrOnce" title="P4_CreateZeroOrOnce"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateZeroOrOnce()</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateZeroOrMore" title="P4_CreateZeroOrMore"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateZeroOrMore()</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateOnceOrMore" title="P4_CreateOnceOrMore"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateOnceOrMore()</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateRepeatMin" title="P4_CreateRepeatMin"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateRepeatMin()</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateRepeatMax" title="P4_CreateRepeatMax"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateRepeatMax()</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateRepeatMinMax" title="P4_CreateRepeatMinMax"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateRepeatMinMax()</span></code></a>, <a class="reference internal" href="references.html#c.P4_CreateRepeatExact" title="P4_CreateRepeatExact"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_CreateRepeatExact()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddZeroOrOnce" title="P4_AddZeroOrOnce"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddZeroOrOnce()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddZeroOrMore" title="P4_AddZeroOrMore"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddZeroOrMore()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddOnceOrMore" title="P4_AddOnceOrMore"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddOnceOrMore()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddRepeatMin" title="P4_AddRepeatMin"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddRepeatMin()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddRepeatMax" title="P4_AddRepeatMax"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddRepeatMax()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddRepeatMinMax" title="P4_AddRepeatMinMax"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddRepeatMinMax()</span></code></a>, <a class="reference internal" href="references.html#c.P4_AddRepeatExact" title="P4_AddRepeatExact"><code class="xref c c-func docutils literal notranslate"><span class="pre">P4_AddRepeatExact()</span></code></a>.</p>
</dd>
</dl>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="flags.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Expression Flags</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="getting_started.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Getting Started</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Ju
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/expressions.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Expressions</a><ul>
<li><a class="reference internal" href="#literal">Literal</a></li>
<li><a class="reference internal" href="#range">Range</a></li>
<li><a class="reference internal" href="#sequence">Sequence</a></li>
<li><a class="reference internal" href="#backreference">BackReference</a></li>
<li><a class="reference internal" href="#choice">Choice</a></li>
<li><a class="reference internal" href="#reference">Reference</a></li>
<li><a class="reference internal" href="#positive">Positive</a></li>
<li><a class="reference internal" href="#negative">Negative</a></li>
<li><a class="reference internal" href="#repeat">Repeat</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>